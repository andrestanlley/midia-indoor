generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Terminal {
  deviceId    String     @id
  name        String
  lastSync    DateTime
  mediaListId String?
  mediaId     String?
  actualMedia Media?     @relation(fields: [mediaId], references: [id])
  MediaList   MediaList? @relation(fields: [mediaListId], references: [id])
  WebViews    WebView[]  @relation("TerminalToWebView")
}

model MediaList {
  id       String     @id
  name     String
  medias   Media[]
  Terminal Terminal[]
}

model Media {
  id          String     @id
  name        String
  filename    String
  type        String
  mediaListId String?
  MediaList   MediaList? @relation(fields: [mediaListId], references: [id])
  Terminal    Terminal[]
}

model WebView {
  id       String     @id
  name     String
  url      String
  Terminal Terminal[] @relation("TerminalToWebView")
}
